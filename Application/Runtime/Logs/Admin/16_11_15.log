[ 2016-11-15T09:58:57+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000924s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000987s ]

[ 2016-11-15T09:58:57+08:00 ] 127.0.0.1 /admin.php/Login/login
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000350s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000374s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000065s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000105s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006640s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006709s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000179s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000203s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000481s ]
INFO: [ app_end ] --END-- [ RunTime:0.000508s ]

[ 2016-11-15T09:58:59+08:00 ] 127.0.0.1 /admin.php/Login/login
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000379s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000787s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000845s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000125s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000192s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.007330s ]
INFO: [ view_parse ] --END-- [ RunTime:0.007364s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000132s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000207s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000475s ]
INFO: [ app_end ] --END-- [ RunTime:0.000510s ]

[ 2016-11-15T09:59:01+08:00 ] 127.0.0.1 /admin.php/Ajax/login
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000278s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000462s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000500s ]

[ 2016-11-15T09:59:01+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0009s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0001s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000147s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000175s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011279s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011301s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000394s ]
INFO: [ app_end ] --END-- [ RunTime:0.000423s ]

[ 2016-11-15T09:59:02+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000567s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000520s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000571s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0012s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0012s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000191s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000248s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008698s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008722s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000487s ]
INFO: [ app_end ] --END-- [ RunTime:0.000524s ]

[ 2016-11-15T09:59:03+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000333s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000361s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0018s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0006s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000182s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000233s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010187s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010247s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000168s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000197s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000522s ]
INFO: [ app_end ] --END-- [ RunTime:0.000559s ]

[ 2016-11-15T09:59:04+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000308s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000452s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000494s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0006s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000140s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000166s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008275s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008313s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000326s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000620s ]
INFO: [ app_end ] --END-- [ RunTime:0.000669s ]

[ 2016-11-15T09:59:08+08:00 ] 127.0.0.1 /admin.php/Post/general.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
ERR: 非法操作:general

[ 2016-11-15T09:59:10+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0004s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000290s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000361s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009616s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009644s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000143s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000165s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000458s ]
INFO: [ app_end ] --END-- [ RunTime:0.000484s ]

[ 2016-11-15T09:59:14+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0019s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000193s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000240s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008651s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008675s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000385s ]
INFO: [ app_end ] --END-- [ RunTime:0.000409s ]

[ 2016-11-15T09:59:14+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000371s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000449s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000496s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0016s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0016s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0005s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000186s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000244s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012221s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012266s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000136s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000157s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000545s ]
INFO: [ app_end ] --END-- [ RunTime:0.000583s ]

[ 2016-11-15T11:28:38+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.002282s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001018s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001079s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0053s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0017s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000188s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000221s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.019626s ]
INFO: [ view_parse ] --END-- [ RunTime:0.019660s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000467s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000497s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000933s ]
INFO: [ app_end ] --END-- [ RunTime:0.000979s ]

[ 2016-11-15T11:28:39+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000305s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0014s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0024s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000168s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000203s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008467s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008495s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000465s ]
INFO: [ app_end ] --END-- [ RunTime:0.000500s ]

[ 2016-11-15T11:46:53+08:00 ] 127.0.0.1 /admin.php/Ajax/addNewPost
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000903s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001457s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001594s ]
NOTIC: [8] Undefined index: id /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Admin/Controller/AjaxController.class.php 第 53 行.
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0061s ]
SQL: INSERT INTO `z_post` (`title`,`category`,`tag`,`summary`,`content`,`pubtime`,`mtime`,`ctime`) VALUES ('Zol_config','php','zolframework','Zol_config的原理和大多数框架里的config类没有太大区别，甚至更加简单。','<h3>题记</h3><p>Zol_config的原理和大多数框架里的config类没有太大区别，甚至更加简单，而有些地方比较臃肿。简单在只有一个方法，臃肿在多了很多不必要的判断，像ini后缀的根本不必要。最好再加一个all方法，能获取指定配置文件的所有配置。</p><h3>源码</h3><pre class=\"brush:php;toolbar:false\">&lt;?php
/**
*&nbsp;获取配置
*&nbsp;@author&nbsp;wiki&lt;wu.kun@zol.com.cn&gt;
*&nbsp;@copyright&nbsp;(c)&nbsp;2010-06-22
*&nbsp;@version&nbsp;v1.0
*/

class&nbsp;ZOL_Config
{
&nbsp;&nbsp;&nbsp;&nbsp;/**
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;配置缓存
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@var&nbsp;array
&nbsp;&nbsp;&nbsp;&nbsp;*/
	private&nbsp;static&nbsp;$_cache;

	/**
	*&nbsp;获取
	*
	*&nbsp;@param&nbsp;mixed&nbsp;$key&nbsp;配置地址
	*&nbsp;@param&nbsp;mixed&nbsp;$arrKeyName&nbsp;配置子键，可多维，用.号分隔
	*&nbsp;@param&nbsp;enum&nbsp;$type&nbsp;PHP|INI|EVAL
	*&nbsp;@return&nbsp;array|false
	*/
	public&nbsp;static&nbsp;function&nbsp;get($key,&nbsp;$arrKeyName&nbsp;=&nbsp;&#39;&#39;,&nbsp;$type&nbsp;=&nbsp;&#39;PHP&#39;)
	{
		if&nbsp;(!defined(&#39;PRODUCTION_CONFIG_PATH&#39;))&nbsp;{
			define(&#39;PRODUCTION_CONFIG_PATH&#39;,&nbsp;PRODUCTION_ROOT&nbsp;.&nbsp;&#39;/Config&#39;);
		}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fileExt&nbsp;=&nbsp;array(&nbsp;#不同配置文件的扩展名映射关系
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ini&#39;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&#39;ini&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;php&#39;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&#39;php&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;eval&#39;&nbsp;&nbsp;=&gt;&nbsp;&#39;php&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);

		$path&nbsp;=&nbsp;PRODUCTION_CONFIG_PATH&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;&#39;/&#39;,&nbsp;$key)&nbsp;.&nbsp;&#39;.&#39;&nbsp;.&nbsp;$fileExt[strtolower($type)];
		if&nbsp;(isset(self::$_cache[$path]))&nbsp;{
			$config&nbsp;=&nbsp;self::$_cache[$path];
		}&nbsp;else&nbsp;{
			if&nbsp;(!ZOL_File::exists($path))&nbsp;{
				self::$_cache[$path]&nbsp;=&nbsp;false;
				return&nbsp;false;
			}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type&nbsp;=&nbsp;strtoupper($type);
			switch&nbsp;($type)&nbsp;{
				case&nbsp;&#39;INI&#39;:
					$config&nbsp;=&nbsp;parse_ini_file($path);
					break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;EVAL&#39;:&nbsp;#config中可以有变量，这样可以将变量传入到config中
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(is_array($arrKeyName)){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract($arrKeyName);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
					$config&nbsp;=&nbsp;include($path);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
				default:
				case&nbsp;&#39;PHP&#39;:
					$config&nbsp;=&nbsp;include($path);
					break;
			}
			self::$_cache[$path]&nbsp;=&nbsp;$config;
		}

		if&nbsp;($arrKeyName&nbsp;&amp;&amp;&nbsp;$type&nbsp;!=&nbsp;&#39;EVAL&#39;)&nbsp;{
			if&nbsp;(strpos(&#39;.&#39;,&nbsp;$arrKeyName))&nbsp;{
				$keyArr&nbsp;=&nbsp;explode(&#39;.&#39;,&nbsp;$arrKeyName);
				foreach&nbsp;($keyArr&nbsp;as&nbsp;$key)&nbsp;{
					if&nbsp;(!$config)&nbsp;{
						break;
					}

					$config&nbsp;=&nbsp;empty($config[$key])&nbsp;?&nbsp;false&nbsp;:&nbsp;$config[$key];
				}
			}&nbsp;else&nbsp;{
				$config&nbsp;=&nbsp;empty($config[$arrKeyName])&nbsp;?&nbsp;false&nbsp;:&nbsp;$config[$arrKeyName];
			}
		}
		return&nbsp;$config;
	}
}</pre><h3>解读</h3><p>还是套路。^_^。首先定义一个static的$_cache变量来做缓存。然后解析文件名获得配置数组。<br/></p><p><br/></p><p>只有一个方法get()用来获取配置文件。get里传入配置文件名和需要取得键名。如果已经缓存过该文件就直接取，如果没有就看文件是否存在，存在的话就取出来。个人觉得ini后缀不用管，拿实用的php就可以了。</p>','1479181613','1479181613','1479181613') [ RunTime:0.0276s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0015s ]
SQL: SELECT * FROM `z_category` WHERE `name` = 'php' LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0030s ]
SQL: SELECT * FROM `z_tag` WHERE `name` = 'zolframework' LIMIT 1   [ RunTime:0.0003s ]
SQL: INSERT INTO `z_tag` (`name`) VALUES ('zolframework') [ RunTime:0.0009s ]

[ 2016-11-15T11:46:54+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000275s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000608s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000706s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0008s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000172s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000204s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014960s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000485s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000516s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000882s ]
INFO: [ app_end ] --END-- [ RunTime:0.000924s ]

[ 2016-11-15T11:46:55+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000373s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000333s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0005s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000227s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000315s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010747s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010777s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000172s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000201s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000621s ]
INFO: [ app_end ] --END-- [ RunTime:0.000742s ]

[ 2016-11-15T11:47:39+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/20
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000453s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000539s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000579s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0020s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0014s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0011s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000180s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000213s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013734s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013764s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000140s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000158s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000622s ]
INFO: [ app_end ] --END-- [ RunTime:0.000664s ]

[ 2016-11-15T11:47:39+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/20
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000310s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0019s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0020s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0020s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000179s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000223s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009775s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009814s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000270s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000715s ]
INFO: [ app_end ] --END-- [ RunTime:0.000818s ]

[ 2016-11-15T11:48:17+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000385s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000426s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0008s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000200s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000242s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012275s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000183s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000210s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000611s ]
INFO: [ app_end ] --END-- [ RunTime:0.000653s ]

[ 2016-11-15T11:48:18+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0014s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0014s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000188s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000241s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010733s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010764s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000145s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000404s ]
INFO: [ app_end ] --END-- [ RunTime:0.000432s ]

[ 2016-11-15T11:48:54+08:00 ] 127.0.0.1 /admin.php/Ajax/addNewPost
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000608s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000961s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001037s ]
NOTIC: [8] Undefined index: id /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Admin/Controller/AjaxController.class.php 第 53 行.
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0017s ]
SQL: INSERT INTO `z_post` (`title`,`category`,`tag`,`summary`,`pubtime`,`mtime`,`ctime`) VALUES ('持续前进！','说说','','','1479181734','1479181734','1479181734') [ RunTime:0.0032s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0020s ]
SQL: SELECT * FROM `z_category` WHERE `name` = '说说' LIMIT 1   [ RunTime:0.0004s ]

[ 2016-11-15T11:48:55+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000240s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000345s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000369s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0019s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0006s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000202s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000244s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014981s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015029s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000526s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000563s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000810s ]
INFO: [ app_end ] --END-- [ RunTime:0.000847s ]

[ 2016-11-15T11:48:56+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000344s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000655s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000701s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0017s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0004s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000227s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000289s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010293s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010331s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000259s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000725s ]
INFO: [ app_end ] --END-- [ RunTime:0.000796s ]

[ 2016-11-15T11:49:34+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/21
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000832s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001289s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0015s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 21 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0015s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0015s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0004s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000288s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000341s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013623s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013676s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001019s ]
INFO: [ view_filter ] --END-- [ RunTime:0.001067s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000970s ]
INFO: [ app_end ] --END-- [ RunTime:0.001027s ]

[ 2016-11-15T11:49:34+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/21
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000447s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000448s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000492s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0130s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 21 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0011s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000174s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000211s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008275s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008297s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000517s ]
INFO: [ app_end ] --END-- [ RunTime:0.000564s ]

[ 2016-11-15T11:49:45+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000275s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0099s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0011s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000222s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000262s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014432s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014491s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000238s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001095s ]
INFO: [ app_end ] --END-- [ RunTime:0.001222s ]

[ 2016-11-15T11:49:45+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000267s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000314s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0005s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000218s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000258s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008789s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008826s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000201s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000234s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000673s ]
INFO: [ app_end ] --END-- [ RunTime:0.000741s ]

[ 2016-11-15T11:49:50+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/20
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000471s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000516s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0097s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0019s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0012s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000172s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000211s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011765s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011791s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000415s ]
INFO: [ app_end ] --END-- [ RunTime:0.000449s ]

[ 2016-11-15T11:49:50+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/20
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000333s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000362s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0086s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0019s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0021s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000196s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000259s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012166s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012212s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000172s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000262s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000557s ]
INFO: [ app_end ] --END-- [ RunTime:0.000602s ]

[ 2016-11-15T11:52:15+08:00 ] 127.0.0.1 /admin.php/Ajax/addNewPost
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000668s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000938s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000993s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0038s ]
SQL: UPDATE `z_post` SET `title`='Zol_config',`category`='php',`tag`='zolframework',`summary`='Zol_config的原理和大多数框架里的config类没有太大区别，甚至更加简单。',`content`='<p>								</p><h3>题记</h3><p>Zol_config的原理和大多数框架里的config类没有太大区别，甚至更加简单，而有些地方比较臃肿。简单在只有一个方法，臃肿在多了很多不必要的判断，像ini后缀的根本不必要。最好再加一个all方法，能获取指定配置文件的所有配置。</p><h3>源码</h3><pre class=\"brush:php;toolbar:false\">&lt;?php
/**
*&nbsp;获取配置
*&nbsp;@author&nbsp;wiki&lt;wu.kun@zol.com.cn&gt;
*&nbsp;@copyright&nbsp;(c)&nbsp;2010-06-22
*&nbsp;@version&nbsp;v1.0
*/

class&nbsp;ZOL_Config
{
&nbsp;&nbsp;&nbsp;&nbsp;/**
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;配置缓存
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@var&nbsp;array
&nbsp;&nbsp;&nbsp;&nbsp;*/
	private&nbsp;static&nbsp;$_cache;

	/**
	*&nbsp;获取
	*
	*&nbsp;@param&nbsp;mixed&nbsp;$key&nbsp;配置地址
	*&nbsp;@param&nbsp;mixed&nbsp;$arrKeyName&nbsp;配置子键，可多维，用.号分隔
	*&nbsp;@param&nbsp;enum&nbsp;$type&nbsp;PHP|INI|EVAL
	*&nbsp;@return&nbsp;array|false
	*/
	public&nbsp;static&nbsp;function&nbsp;get($key,&nbsp;$arrKeyName&nbsp;=&nbsp;&#39;&#39;,&nbsp;$type&nbsp;=&nbsp;&#39;PHP&#39;)
	{
		if&nbsp;(!defined(&#39;PRODUCTION_CONFIG_PATH&#39;))&nbsp;{
			define(&#39;PRODUCTION_CONFIG_PATH&#39;,&nbsp;PRODUCTION_ROOT&nbsp;.&nbsp;&#39;/Config&#39;);
		}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fileExt&nbsp;=&nbsp;array(&nbsp;#不同配置文件的扩展名映射关系
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ini&#39;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&#39;ini&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;php&#39;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&#39;php&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;eval&#39;&nbsp;&nbsp;=&gt;&nbsp;&#39;php&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);

		$path&nbsp;=&nbsp;PRODUCTION_CONFIG_PATH&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;&#39;/&#39;,&nbsp;$key)&nbsp;.&nbsp;&#39;.&#39;&nbsp;.&nbsp;$fileExt[strtolower($type)];
		if&nbsp;(isset(self::$_cache[$path]))&nbsp;{
			$config&nbsp;=&nbsp;self::$_cache[$path];
		}&nbsp;else&nbsp;{
			if&nbsp;(!ZOL_File::exists($path))&nbsp;{
				self::$_cache[$path]&nbsp;=&nbsp;false;
				return&nbsp;false;
			}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type&nbsp;=&nbsp;strtoupper($type);
			switch&nbsp;($type)&nbsp;{
				case&nbsp;&#39;INI&#39;:
					$config&nbsp;=&nbsp;parse_ini_file($path);
					break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;EVAL&#39;:&nbsp;#config中可以有变量，这样可以将变量传入到config中
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(is_array($arrKeyName)){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract($arrKeyName);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
					$config&nbsp;=&nbsp;include($path);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
				default:
				case&nbsp;&#39;PHP&#39;:
					$config&nbsp;=&nbsp;include($path);
					break;
			}
			self::$_cache[$path]&nbsp;=&nbsp;$config;
		}

		if&nbsp;($arrKeyName&nbsp;&amp;&amp;&nbsp;$type&nbsp;!=&nbsp;&#39;EVAL&#39;)&nbsp;{
			if&nbsp;(strpos(&#39;.&#39;,&nbsp;$arrKeyName))&nbsp;{
				$keyArr&nbsp;=&nbsp;explode(&#39;.&#39;,&nbsp;$arrKeyName);
				foreach&nbsp;($keyArr&nbsp;as&nbsp;$key)&nbsp;{
					if&nbsp;(!$config)&nbsp;{
						break;
					}

					$config&nbsp;=&nbsp;empty($config[$key])&nbsp;?&nbsp;false&nbsp;:&nbsp;$config[$key];
				}
			}&nbsp;else&nbsp;{
				$config&nbsp;=&nbsp;empty($config[$arrKeyName])&nbsp;?&nbsp;false&nbsp;:&nbsp;$config[$arrKeyName];
			}
		}
		return&nbsp;$config;
	}
}</pre><h3>解读</h3><p>还是套路。^_^。首先定义一个static的$_cache变量来做缓存。然后解析文件名获得配置数组。<br/></p><p><br/></p><p>只有一个方法get()用来获取配置文件。get里传入配置文件名和需要取得键名。如果已经缓存过该文件就直接取，如果没有就看文件是否存在，存在的话就取出来。个人觉得ini后缀不用管，拿实用的php就可以了。</p><p><br/></p><p>最后附上被加载的配置文件的格式：</p><p><img src=\"/ueditor/php/upload/image/20161115/1479181931403201.png\" title=\"1479181931403201.png\" alt=\"blob.png\"/></p><p>							</p>',`mtime`='1479181935' WHERE `id` = 20 [ RunTime:0.0073s ]
NOTIC: [8] Undefined variable: id /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Admin/Controller/AjaxController.class.php 第 56 行.
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0022s ]
SQL: SELECT * FROM `z_category` WHERE `name` = 'php' LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0020s ]
SQL: SELECT * FROM `z_tag` WHERE `name` = 'zolframework' LIMIT 1   [ RunTime:0.0004s ]

[ 2016-11-15T11:52:17+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000312s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000335s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000368s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0019s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0006s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000232s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000277s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014824s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014874s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000516s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000552s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000792s ]
INFO: [ app_end ] --END-- [ RunTime:0.000833s ]

[ 2016-11-15T11:52:17+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000333s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000362s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0100s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000167s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000214s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013861s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013900s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000655s ]
INFO: [ app_end ] --END-- [ RunTime:0.000694s ]

[ 2016-11-15T15:33:37+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000748s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000907s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000989s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0089s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0016s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000196s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000232s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013668s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013696s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000994s ]
INFO: [ view_filter ] --END-- [ RunTime:0.001020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000835s ]
INFO: [ app_end ] --END-- [ RunTime:0.000883s ]

[ 2016-11-15T15:33:43+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000529s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000906s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000981s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0011s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000209s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000264s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012960s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000191s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000217s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001484s ]
INFO: [ app_end ] --END-- [ RunTime:0.001529s ]

[ 2016-11-15T15:40:26+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000600s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000637s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000667s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0033s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0017s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000218s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000257s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015325s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015365s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000415s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000447s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000887s ]
INFO: [ app_end ] --END-- [ RunTime:0.000934s ]

[ 2016-11-15T15:40:26+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000335s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000435s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000470s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0094s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000289s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001022s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014361s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014405s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000197s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000256s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000580s ]
INFO: [ app_end ] --END-- [ RunTime:0.000626s ]

[ 2016-11-15T15:42:11+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000756s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000772s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000814s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0040s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0016s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000176s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000208s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.018710s ]
INFO: [ view_parse ] --END-- [ RunTime:0.018747s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000398s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000436s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001219s ]
INFO: [ app_end ] --END-- [ RunTime:0.001342s ]

[ 2016-11-15T15:42:12+08:00 ] 127.0.0.1 /admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000302s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0088s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0048s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0025s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000210s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000327s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 371 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 434 行.
NOTIC: [8] Undefined variable: hospitalInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 448 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010594s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010625s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000157s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000180s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000486s ]
INFO: [ app_end ] --END-- [ RunTime:0.000517s ]

[ 2016-11-15T16:47:35+08:00 ] 127.0.0.1 /admin.php/Ajax/addNewPost
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.001398s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001694s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001799s ]
NOTIC: [8] Undefined index: id /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Admin/Controller/AjaxController.class.php 第 53 行.
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0090s ]
SQL: INSERT INTO `z_post` (`title`,`category`,`tag`,`summary`,`content`,`pubtime`,`mtime`,`ctime`) VALUES ('私有云','php','架构','当公司项目发展到一定阶段，出现了a.domain.com,b.domain.com,c.domain.com并且各个domain下的开发人员对彼此的项目不了解，但需要对方的数据或者进行交互的时候，依赖问题就出现了。比如a.domain.com需要b.domain提供数据...','<h3>题记</h3><p>当公司项目发展到一定阶段，出现了a.domain.com,b.domain.com,c.domain.com并且各个domain下的开发人员对彼此的项目不了解，但需要对方的数据或者进行交互的时候，依赖问题就出现了。</p><p><br/></p><p>比如a.domain.com需要b.domain提供数据。一般情况下a项目的开发人员需要b项目的开发人员提供接口。接口写好了：b.domain.com/api.php。用了一段时间挺好。可是突然有一天，b.domain.com出现问题挂了，a.domain.com也跟着遭殃了。这就是依赖。也是私有云出现的原因。</p><p><br/></p><h3>私有云的优势</h3><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p>切断各个业务的耦合。用了私有云，a.domain.com下的开发人员，可以直接调用私有云下的方法，尽管这些方法仍然需要b.domain.com下的开发人员开发。</p></li><li><p>没有单点问题，a.domain.com下的私有云入口是自己的独立的一份文件。b.domain.com也是一样。每小时或者推送数据同步，保持各服务器私有云程序一致。</p><p></p></li></ol><h3>私有云的使用</h3><p>私有云的使用很简单，只需要在项目中引入私有云这个项目中的api.php，然后就可以了。这个api.php里有个ZOL_API类里，有个autoload方法控制了私有云类和方法的加载，有个run方法来进行执行对应的类的方法。</p><p><br/></p><p>autoload方法：</p><pre class=\"brush:php;toolbar:false\">public&nbsp;static&nbsp;function&nbsp;autoload($name)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(trim($name)&nbsp;==&nbsp;&#39;&#39;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;exception(&#39;No&nbsp;class&nbsp;or&nbsp;interface&nbsp;named&nbsp;for&nbsp;loading&#39;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(class_exists($name,&nbsp;false)&nbsp;||&nbsp;interface_exists($name,&nbsp;false))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$namespace&nbsp;=&nbsp;substr($name,&nbsp;0,&nbsp;strpos($name,&nbsp;&#39;_&#39;));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ZOL_API_ISFW&nbsp;&amp;&amp;&nbsp;in_array($namespace,&nbsp;array(&#39;Db&#39;,&#39;ZOL&#39;))&nbsp;){&nbsp;#框架的自动加载加载
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;&#39;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($namespace&nbsp;==&nbsp;&#39;API&#39;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;ZOL_API_BASE&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;DIRECTORY_SEPARATOR,&nbsp;$name)&nbsp;.&nbsp;&#39;.php&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对个性的命名空间做处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif&nbsp;(isset(self::$_namespace[$namespace])){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;self::$_namespace[$namespace]&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;DIRECTORY_SEPARATOR,&nbsp;$name)&nbsp;.&nbsp;&#39;.php&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($file){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;$file;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!&nbsp;class_exists($name,&nbsp;false)&nbsp;&amp;&amp;&nbsp;!&nbsp;interface_exists($name,&nbsp;false))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;ZOL_Exception(&#39;Class&nbsp;or&nbsp;interface&nbsp;does&nbsp;not&nbsp;exist&nbsp;in&nbsp;loaded&nbsp;file&#39;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>这个方法里，定义：如果$name的第一段是ZOL或者Db,那么不进行任何操作，直接返回，交给框架自带的自动加载进行处理；如果$name的第一段以API开头，那么就进行文件名拼接并进行加载；如果是自定义的命名空间，就加载自定义空间下的类文件。<br/></p><p><br/></p><p>run方法：</p><pre class=\"brush:php;toolbar:false\">public&nbsp;static&nbsp;function&nbsp;run($method,$param=false){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!$method)return&nbsp;false;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method&nbsp;=&nbsp;str_replace(&quot;.&quot;,&nbsp;&quot;_&quot;,&nbsp;$method);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$class&nbsp;=&nbsp;&quot;API_Item_&quot;&nbsp;.&nbsp;substr($method,&nbsp;0,strrpos($method,&quot;_&quot;));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func&nbsp;&nbsp;=&nbsp;substr($method,&nbsp;strrpos($method,&quot;_&quot;)+1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self::$_nowMethod&nbsp;=&nbsp;$method;//通过私有云run调用
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data&nbsp;&nbsp;=&nbsp;call_user_func_array(array($class,&nbsp;$func),&nbsp;array($param));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$data;
}</pre><p>这个run方法是我们最常在框架中用到的<br/></p>','1479199655','1479199655','1479199655') [ RunTime:0.0150s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0035s ]
SQL: SELECT * FROM `z_category` WHERE `name` = 'php' LIMIT 1   [ RunTime:0.0102s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0031s ]
SQL: SELECT * FROM `z_tag` WHERE `name` = '架构' LIMIT 1   [ RunTime:0.0006s ]
SQL: INSERT INTO `z_tag` (`name`) VALUES ('架构') [ RunTime:0.0013s ]

[ 2016-11-15T16:47:37+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000965s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000850s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000935s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0029s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0014s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000624s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000772s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.046976s ]
INFO: [ view_parse ] --END-- [ RunTime:0.047156s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.003403s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003514s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002194s ]
INFO: [ app_end ] --END-- [ RunTime:0.002319s ]

[ 2016-11-15T16:47:39+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.001130s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001358s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001532s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0125s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0019s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000719s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000985s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.036007s ]
INFO: [ view_parse ] --END-- [ RunTime:0.036095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000340s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000395s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002680s ]
INFO: [ app_end ] --END-- [ RunTime:0.002789s ]

[ 2016-11-15T19:56:55+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/22
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000824s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001290s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001347s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0033s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 22 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0011s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0012s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000163s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000195s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016468s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016514s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000446s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000484s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000848s ]
INFO: [ app_end ] --END-- [ RunTime:0.000890s ]

[ 2016-11-15T19:56:57+08:00 ] 127.0.0.1 /admin.php/Post/updatePost/id/22
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000524s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000451s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000489s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_post` WHERE `id` = 22 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0013s ]
SQL: SELECT * FROM `z_category`  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0010s ]
SQL: SELECT * FROM `z_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000182s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000231s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/b94d69ac1621e983387ec69783f12599.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009118s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009164s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000134s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000162s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000359s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2016-11-15T20:03:27+08:00 ] 127.0.0.1 /admin.php/Ajax/addNewPost
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000824s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001138s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001212s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0052s ]
SQL: UPDATE `z_post` SET `title`='私有云',`category`='php',`tag`='架构',`summary`='当公司项目发展到一定阶段，出现了a.domain.com,b.domain.com,c.domain.com并且各个domain下的开发人员对彼此的项目不了解，但需要对方的数据或者进行交互的时候，依赖问题就出现了。比如a.domain.com需要b.domain提供数据...',`content`='<p>								</p><h3>题记</h3><p>当公司项目发展到一定阶段，出现了a.domain.com,b.domain.com,c.domain.com并且各个domain下的开发人员对彼此的项目不了解，但需要对方的数据或者进行交互的时候，依赖问题就出现了。</p><p><br/></p><p>比如a.domain.com需要b.domain提供数据。一般情况下a项目的开发人员需要b项目的开发人员提供接口。接口写好了：b.domain.com/api.php。用了一段时间挺好。可是突然有一天，b.domain.com出现问题挂了，a.domain.com也跟着遭殃了。这就是依赖。也是私有云出现的原因。</p><p><br/></p><h3>私有云的优势</h3><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p>切断各个业务的耦合。用了私有云，a.domain.com下的开发人员，可以直接调用私有云下的方法，尽管这些方法仍然需要b.domain.com下的开发人员开发。</p></li><li><p>没有单点问题，a.domain.com下的私有云入口是自己的独立的一份文件。b.domain.com也是一样。每小时或者推送数据同步，保持各服务器私有云程序一致。</p></li><li><p>减少不必要的请求。数据就在本应用内得到，省去b.domain.com在还要复制一份a.domain.com的请求与处理。效率加倍。<br/></p><p><br/></p></li></ol><h3>私有云的使用</h3><p>私有云的使用很简单，只需要在项目中引入私有云这个项目中的api.php，然后就可以了，就像这样：</p><p class=\"p1\"><span class=\"s1\">ZOL_Api</span><span class=\"s2\">::<em>run</em>(</span>&quot;Service.Area.getClientIp&quot;<span class=\"s2\">, </span><span class=\"s3\"><strong>array</strong></span><span class=\"s2\">())。</span></p><p class=\"p1\"><span class=\"s2\"><br/></span></p><p>这个api.php里有个ZOL_API类里，有个autoload方法控制了私有云类和方法的加载，有个run方法来进行执行对应的类的方法。<br/></p><p><br/></p><p>autoload方法：</p><pre class=\"brush:php;toolbar:false\">public&nbsp;static&nbsp;function&nbsp;autoload($name)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(trim($name)&nbsp;==&nbsp;&#39;&#39;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;exception(&#39;No&nbsp;class&nbsp;or&nbsp;interface&nbsp;named&nbsp;for&nbsp;loading&#39;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(class_exists($name,&nbsp;false)&nbsp;||&nbsp;interface_exists($name,&nbsp;false))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$namespace&nbsp;=&nbsp;substr($name,&nbsp;0,&nbsp;strpos($name,&nbsp;&#39;_&#39;));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ZOL_API_ISFW&nbsp;&amp;&amp;&nbsp;in_array($namespace,&nbsp;array(&#39;Db&#39;,&#39;ZOL&#39;))&nbsp;){&nbsp;#框架的自动加载加载
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;&#39;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($namespace&nbsp;==&nbsp;&#39;API&#39;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;ZOL_API_BASE&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;DIRECTORY_SEPARATOR,&nbsp;$name)&nbsp;.&nbsp;&#39;.php&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对个性的命名空间做处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif&nbsp;(isset(self::$_namespace[$namespace])){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file&nbsp;=&nbsp;self::$_namespace[$namespace]&nbsp;.&nbsp;&#39;/&#39;&nbsp;.&nbsp;str_replace(&#39;_&#39;,&nbsp;DIRECTORY_SEPARATOR,&nbsp;$name)&nbsp;.&nbsp;&#39;.php&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($file){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;$file;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!&nbsp;class_exists($name,&nbsp;false)&nbsp;&amp;&amp;&nbsp;!&nbsp;interface_exists($name,&nbsp;false))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;ZOL_Exception(&#39;Class&nbsp;or&nbsp;interface&nbsp;does&nbsp;not&nbsp;exist&nbsp;in&nbsp;loaded&nbsp;file&#39;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>这个方法里，定义：如果$name的第一段是ZOL或者Db,那么不进行任何操作，直接返回，交给框架自带的自动加载进行处理；如果$name的第一段以API开头，那么就进行文件名拼接并进行加载；如果是自定义的命名空间，就加载自定义空间下的类文件。<br/></p><p><br/></p><p>run方法：</p><pre class=\"brush:php;toolbar:false\">public&nbsp;static&nbsp;function&nbsp;run($method,$param=false){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!$method)return&nbsp;false;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method&nbsp;=&nbsp;str_replace(&quot;.&quot;,&nbsp;&quot;_&quot;,&nbsp;$method);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$class&nbsp;=&nbsp;&quot;API_Item_&quot;&nbsp;.&nbsp;substr($method,&nbsp;0,strrpos($method,&quot;_&quot;));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func&nbsp;&nbsp;=&nbsp;substr($method,&nbsp;strrpos($method,&quot;_&quot;)+1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self::$_nowMethod&nbsp;=&nbsp;$method;//通过私有云run调用
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data&nbsp;&nbsp;=&nbsp;call_user_func_array(array($class,&nbsp;$func),&nbsp;array($param));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$data;
}</pre><p>run方法的作用就是利用ZOL_API类里的autoload方法将私有云类文件加载进来，并执行对应的方法了。</p><p><br/></p><h3>私有云里的spl_autoload_register和框架里的spl_autoload_register</h3><p>两个自动加载都是生效的，但是要避免两个不互相干扰。</p><h3>同步</h3><p>a.domain.com的开发修改完代码之后，会同步到b.domain.com的相同位置。由于每台使用私有云的服务器都有自己的代码，这样即使b.domain.com挂了，a.domain.com也能正常使用。</p><p>							</p>',`mtime`='1479211407' WHERE `id` = 22 [ RunTime:0.0071s ]
NOTIC: [8] Undefined variable: id /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Admin/Controller/AjaxController.class.php 第 56 行.
SQL: SHOW COLUMNS FROM `z_category` [ RunTime:0.0018s ]
SQL: SELECT * FROM `z_category` WHERE `name` = 'php' LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `z_tag` [ RunTime:0.0011s ]
SQL: SELECT * FROM `z_tag` WHERE `name` = '架构' LIMIT 1   [ RunTime:0.0002s ]

[ 2016-11-15T20:03:29+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000250s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000339s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000368s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0007s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000167s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000200s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017495s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017556s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000499s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000534s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000873s ]
INFO: [ app_end ] --END-- [ RunTime:0.000922s ]

[ 2016-11-15T20:03:30+08:00 ] 127.0.0.1 /admin.php/Post/all
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000524s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000560s ]
SQL: SHOW COLUMNS FROM `z_post` [ RunTime:0.0099s ]
SQL: SELECT COUNT(*) AS tp_count FROM `z_post` LIMIT 1   [ RunTime:0.0012s ]
SQL: SELECT * FROM `z_post` ORDER BY ctime desc LIMIT 0,20   [ RunTime:0.0012s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000161s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000197s ]
NOTIC: [8] Undefined variable: userInfo /Applications/XAMPP/xamppfiles/htdocs/blog/Application/Runtime/Cache/Admin/c171e2b85832ae9943251ee8295bfacb.php 第 371 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010215s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010246s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000126s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000423s ]
INFO: [ app_end ] --END-- [ RunTime:0.000451s ]

